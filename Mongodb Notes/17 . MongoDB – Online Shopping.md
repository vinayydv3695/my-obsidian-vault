
---


# # **1. Overview: Online Shopping Database**

A typical online shopping application uses multiple collections:

### **Collections**

1. **Users**
    
2. **Products**
    
3. **Cart**
    
4. **Orders**
    

MongoDB is suitable because:

- Flexible schema
    
- Easy document embedding
    
- Fast reads for e-commerce workloads
    
- Scalable for large catalog + high user load
    

---

# ---------------------------------------------------------

# # **2. Create the Database**

```js
use OnlineShopping
```

If DB does not exist → MongoDB creates it on first write.

---

# ---------------------------------------------------------

# # **3. Creating Collections**

MongoDB creates a collection automatically on first insert, but explicit creation is allowed:

```js
db.createCollection("Users")
db.createCollection("Products")
db.createCollection("Orders")
db.createCollection("Cart")
```

---

# ---------------------------------------------------------

# # **4. Users Collection – Sample Document**

```json
{
  "_id": ObjectId(),
  "name": "Ankit Jain",
  "email": "ankit@example.com",
  "phone": "9876543210",
  "address": {
    "street": "123 Main St",
    "city": "Delhi",
    "pincode": "110001"
  },
  "createdAt": ISODate()
}
```

### **Design Notes**

- Embedded address → fast retrieval
    
- Flexible schema → more fields can be added anytime
    

---

# ---------------------------------------------------------

# # **5. Products Collection – Sample Document**

```json
{
  "_id": ObjectId(),
  "name": "Wireless Mouse",
  "category": "Electronics",
  "price": 899,
  "stock": 100,
  "rating": 4.5,
  "description": "Bluetooth wireless mouse",
  "createdAt": ISODate()
}
```

### Product attributes include:

- Category (for search filters)
    
- Price, stock (for ordering)
    
- Rating (for reviews & analytics)
    

---

# ---------------------------------------------------------

# # **6. Cart Collection – Sample Document**

```json
{
  "_id": ObjectId(),
  "userId": ObjectId("..."),
  "items": [
    { "productId": ObjectId("..."), "quantity": 2 },
    { "productId": ObjectId("..."), "quantity": 1 }
  ],
  "createdAt": ISODate()
}
```

### Notes:

- Cart belongs to a user → `userId`
    
- Items array lists multiple products + quantities
    
- Embedding preferred because cart is often small and read together
    

---

# ---------------------------------------------------------

# # **7. Orders Collection – Sample Document**

```json
{
  "_id": ObjectId(),
  "userId": ObjectId("..."),
  "items": [
    {
      "productId": ObjectId("..."),
      "quantity": 1,
      "price": 899
    }
  ],
  "totalAmount": 899,
  "orderDate": ISODate(),
  "status": "Placed"
}
```

### Notes:

- Items embedded because orders rarely change after creation
    
- `totalAmount` stored directly → avoids recomputing
    
- `status` supports values like: `"Placed"`, `"Shipped"`, `"Delivered"`
    

---

# ---------------------------------------------------------

# # **8. Insert Documents**

### **Insert one user**

```js
db.Users.insertOne({ name: "Ankit", email: "ankit@example.com" })
```

### **Insert multiple products**

```js
db.Products.insertMany([
  { name: "Wireless Mouse", category: "Electronics", price: 899 },
  { name: "USB-C Charger", category: "Electronics", price: 1299 }
])
```

---

# ---------------------------------------------------------

# # **9. Key MongoDB Principles Demonstrated**

- Collections created automatically
    
- Documents can embed related data
    
- Schema flexibility for e-commerce (changing requirements)
    
- Easy handling of arrays (cart items, order items)
    
- Supports fast queries on product catalog
    

---

# ---------------------------------------------------------

# ⭐ **20 MCQs 


---

### **1. Which database name is created in this example?**

A) ShoppingApp  
B) EcommerceDB  
C) OnlineShopping  
D) StoreDB  
**Answer: C**

---

### **2. Which command switches to or creates a database?**

A) select OnlineShopping  
B) use OnlineShopping  
C) db.OnlineShopping()  
D) start OnlineShopping  
**Answer: B**

---

### **3. MongoDB creates a collection:**

A) Only when explicitly created  
B) Only after restart  
C) Automatically on first insert  
D) Only with indexes  
**Answer: C**

---

### **4. Which is NOT a collection in this schema?**

A) Users  
B) Products  
C) Orders  
D) Transactions  
**Answer: D**

---

### **5. In Users collection, address is stored as:**

A) Separate table  
B) Embedded document  
C) Integer reference  
D) String  
**Answer: B**

---

### **6. Which field uniquely identifies a user or product?**

A) userId  
B) email  
C) category  
D) _id  
**Answer: D**

---

### **7. Products collection stores:**

A) Only names  
B) Only categories  
C) Detailed product info like price, stock, rating  
D) Only user reviews  
**Answer: C**

---

### **8. Cart contains items stored as:**

A) Separate documents  
B) Embedded array of product objects  
C) SQL join table  
D) Plain CSV text  
**Answer: B**

---

### **9. A cart belongs to a specific user using field:**

A) cartHolder  
B) owner  
C) userId  
D) uid  
**Answer: C**

---

### **10. Orders store product price inside items because:**

A) It never changes  
B) To record historical price during order  
C) MongoDB requires it  
D) It cannot be computed  
**Answer: B**

---

### **11. Which field stores total order cost?**

A) total  
B) totalAmount  
C) cost  
D) amount  
**Answer: B**

---

### **12. Which status appears in sample order?**

A) Confirmed  
B) Packed  
C) Placed  
D) Pending  
**Answer: C**

---

### **13. Insert one document uses:**

A) insert()  
B) insertOne()  
C) addOne()  
D) push()  
**Answer: B**

---

### **14. To insert multiple documents, use:**

A) addMany()  
B) insertAll()  
C) insertMany()  
D) bulkInsert()  
**Answer: C**

---

### **15. Which collection would store product ratings?**

A) Users  
B) Products  
C) Orders  
D) Cart  
**Answer: B**

---

### **16. Which collection stores items with quantities?**

A) Users  
B) Cart  
C) Products  
D) Orders only  
**Answer: B**

---

### **17. Embedded order items include:**

A) Only productId  
B) productId, quantity, price  
C) Only name  
D) userId  
**Answer: B**

---

### **18. Document creation time is stored using:**

A) new DateString()  
B) ISODate()  
C) CURRENT_TIMESTAMP  
D) NOW()  
**Answer: B**

---

### **19. The purpose of Orders collection is to store:**

A) Current items in user's cart  
B) Final purchased items + total amount  
C) Only payment details  
D) Product reviews  
**Answer: B**

---

### **20. MongoDB is suitable for e-commerce mainly because:**

A) It enforces rigid schema  
B) It has slow writes  
C) It supports flexible schema and nested documents  
D) It doesn’t support arrays  
**Answer: C**

---

